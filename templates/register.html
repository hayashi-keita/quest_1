{% extends "layout.html" %}

{% block content %}
<div class="container mt-5">
  <h2>新規登録</h2>
  <form method="POST">
    {{ form.hidden_tag() }}

    <div class="mb-3">
      {{ form.username.label(class="form-label") }}
      {{ form.username(class="form-control") }}
    </div>

    <div class="mb-3">
      {{ form.password.label(class="form-label") }}
      {{ form.password(class="form-control") }}
    </div>

    <!-- ✅ 追加ここから -->
    <div class="mb-3">
      {{ form.confirm_password.label(class="form-label") }}
      {{ form.confirm_password(class="form-control") }}
    </div>
    <!-- ✅ 追加ここまで -->

    <div class="mb-3">
      {{ form.role.label(class="form-label") }}
      {{ form.role(class="form-select") }}
    </div>

    <button type="submit" class="btn btn-success">登録</button>
  </form>

  <!-- ✅ エラー表示追加 -->
  {% for field, errors in form.errors.items() %}
    {% for error in errors %}
      <div class="alert alert-danger">{{ field }}: {{ error }}</div>
    {% endfor %}
  {% endfor %}

  <p class="mt-3"><a href="{{ url_for('auth.login') }}">ログインはこちら</a></p>
</div>
{% endblock %}
